/*!
 * interact-steve.js v0.1.3
 * https://tomycesaille.github.io/interact-steve.js/index.html
 * (c) 2020 interact-steve.js Joris La Cancellera (https://jorislacance.fr)
 * Released under the MIT License
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("three")):"function"==typeof define&&define.amd?define(["exports","three"],e):e((t=t||self).interactsteve={},t.THREE)}(this,(function(t,e){"use strict";t.multiToggleButton=class{constructor(t){for(this.canvas=t.canvas,this.xSize=t.xSize||200,this.ySize=t.ySize||200,this.animationSpeed=t.animationSpeed||.01,this.geometry=t.geometry||"Box",this.states=t.states||["On","Off"],this.colors=t.colors||[],this.defaultColor=t.defaultColor||"#a9a9a9",this.clickCallback=t.clickCallback;this.colors.length<6;)this.colors.push(this.defaultColor);this.stateIndex=0,this.state=this.states[0],this.scene=new e.Scene,this.camera=new e.PerspectiveCamera(75,this.xSize/this.ySize,.1,1e3),this.camera.position.z=1.5,this.renderer=new e.WebGLRenderer({canvas:this.canvas,alpha:!0}),this.renderer.setClearColor(0,0),this.renderer.setSize(this.xSize,this.ySize),this.mesh=this.generateMesh(),this.scene.add(this.mesh);const s=new e.DirectionalLight(16777215,1);s.position.set(-1,2,4),this.scene.add(s),this.eulerVector=new e.Vector3(0,0,0),this.t=0,this.rotate(),this.animate(),this.tt=this.animate(),this.clickCallback&&this.clickCallback(this.canvas,this.state),this.canvas.addEventListener("click",()=>this.onCanvasClick(),!1)}click(){this.onCanvasClick()}setState(t){let e=this.states.findIndex(e=>e==t);this.stateIndex=e,this.state=this.states[this.stateIndex],this.rotate(),this.clickCallback&&this.clickCallback(this.canvas,this.state)}onCanvasClick(){this.stateIndex=this.stateIndex>=this.states.length-1?0:this.stateIndex+1,this.state=this.states[this.stateIndex],this.rotate(),this.clickCallback&&this.clickCallback(this.canvas,this.state)}rotate(){this.t=0,"box"==this.geometry.toLowerCase()?this.eulerVector=new e.Vector3(e.Math.degToRad(this.boxRotations[this.stateIndex][0]),e.Math.degToRad(this.boxRotations[this.stateIndex][1]),e.Math.degToRad(this.boxRotations[this.stateIndex][2])):"tetrahedron"==this.geometry.toLowerCase()?this.eulerVector=new e.Vector3(e.Math.degToRad(this.tetrahedronRotations[this.stateIndex][0]),e.Math.degToRad(this.tetrahedronRotations[this.stateIndex][1]),e.Math.degToRad(this.tetrahedronRotations[this.stateIndex][2])):"icosahedron"==this.geometry.toLowerCase()&&(this.eulerVector=new e.Vector3(e.Math.degToRad(this.icosahedronRotations[this.stateIndex][0]),e.Math.degToRad(this.icosahedronRotations[this.stateIndex][1]),e.Math.degToRad(this.icosahedronRotations[this.stateIndex][2])))}animate(){requestAnimationFrame(()=>this.animate()),this.t<1&&(this.t+=this.animationSpeed),this.mesh.rotation.x=e.MathUtils.lerp(this.mesh.rotation.x,this.eulerVector.x,this.t),this.mesh.rotation.y=e.MathUtils.lerp(this.mesh.rotation.y,this.eulerVector.y,this.t),this.mesh.rotation.z=e.MathUtils.lerp(this.mesh.rotation.z,this.eulerVector.z,this.t),this.renderer.render(this.scene,this.camera)}generateMesh(){let t=new e.MeshStandardMaterial({side:e.FrontSide,flatShading:e.FlatShading,vertexColors:e.VertexColors});if("box"==this.geometry.toLowerCase()){let s=new e.BoxGeometry(1,1,1),i=this.colors.map(s=>new e.MeshStandardMaterial({color:s,side:t.side,flatShading:t.flatShading,vertexColors:t.vertexColors}));return new e.Mesh(s,i)}if("tetrahedron"==this.geometry.toLowerCase()){let s=new e.TetrahedronGeometry(.95,0);for(let t=0;t<s.faces.length;t++)s.faces[t].color=new e.Color(this.colors[t]);return new e.Mesh(s,t)}if("icosahedron"==this.geometry.toLowerCase()){let s=new e.IcosahedronGeometry(.95,0);for(let t=0;t<s.faces.length;t++)s.faces[t].color=new e.Color(this.colors[t]);return new e.Mesh(s,t)}}get boxRotations(){return[[0,270,0],[0,90,0],[90,0,0],[270,0,0],[0,0,0],[0,180,0]]}get tetrahedronRotations(){return[[35,45,0],[-125,0,-135],[45,-40,100],[125,15,-145]]}get icosahedronRotations(){return[[35,45,0],[70,0,0],[70,180,0],[35,135,0],[20,90,0],[35,315,0],[0,20,0],[-20,90,0],[0,160,0],[35,225,0],[-35,315,0],[-70,0,0],[-70,180,0],[-35,225,0],[-20,270,0],[0,340,0],[-35,45,0],[-35,135,0],[0,200,0],[20,270,0]]}},Object.defineProperty(t,"__esModule",{value:!0})}));
